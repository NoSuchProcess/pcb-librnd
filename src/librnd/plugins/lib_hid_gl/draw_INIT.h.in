print [@

#include <librnd/plugins/lib_hid_gl/draw.h>

extern hidgl_draw_t hidgl_draw_direct;
extern hidgl_draw_t hidgl_draw_vao;
extern hidgl_draw_t hidgl_draw_error;

static hidgl_draw_t *hidgl_draws;

#define DRAW_INSERT(drw) \
	do { \
		drw.next = hidgl_draws; \
		hidgl_draws = &drw; \
	} while(0)

/* create a linked list of all draw backends compiled */
RND_INLINE void hidgl_draw_init_(void)
{
	static int inited = 0;

	if (inited)
		return;

	DRAW_INSERT(hidgl_draw_vao);
	DRAW_INSERT(hidgl_draw_direct);

	inited = 1;
}
@]
